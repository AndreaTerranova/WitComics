!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}((function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=s),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each((function(){var r=e(this),i=r.data(P);i||(i=new n(this,t),r.data(P,i))}))}function n(t,n){function D(t){if(!(!0===xe.data(P+"_intouch")||e(t.target).closest(n.excludedElements,xe).length>0)){var a=t.originalEvent?t.originalEvent:t;if(!a.pointerType||"mouse"!=a.pointerType||0!=n.fallbackToMouseEvents){var u,s=a.touches,c=s?s[0]:a;return be=E,s?Se=s.length:!1!==n.preventDefaultEvents&&t.preventDefault(),fe=0,he=null,ge=null,Ee=null,de=0,we=0,ve=0,Te=1,ye=0,(p={})[r]=te(r),p[i]=te(i),p[l]=te(l),p[o]=te(o),me=p,Z(),K(0,c),!s||Se===n.fingers||n.fingers===T||C()?(Me=le(),2==Se&&(K(1,s[1]),we=ve=re(Oe[0].start,Oe[1].start)),(n.swipeStatus||n.pinchStatus)&&(u=j(a,be))):u=!1,!1===u?(j(a,be=b),u):(n.hold&&(Ae=setTimeout(e.proxy((function(){xe.trigger("hold",[a.target]),n.hold&&(u=n.hold.call(xe,a,a.target))}),this),n.longTapThreshold)),J(!0),null)}}var p}function L(t){var p,f,h,g,d=t.originalEvent?t.originalEvent:t;if(be!==x&&be!==b&&!B()){var y,E=d.touches,S=$(E?E[0]:d);if(Pe=le(),E&&(Se=E.length),n.hold&&clearTimeout(Ae),be=m,2==Se&&(0==we?(K(1,E[1]),we=ve=re(Oe[0].start,Oe[1].start)):($(E[1]),ve=re(Oe[0].end,Oe[1].end),Oe[0].end,Oe[1].end,Ee=1>Te?u:a),Te=(ve/we*1).toFixed(2),ye=Math.abs(we-ve)),Se===n.fingers||n.fingers===T||!E||C()){if(he=ie(S.start,S.end),function(e,t){if(!1!==n.preventDefaultEvents)if(n.allowPageScroll===s)e.preventDefault();else{var a=n.allowPageScroll===c;switch(t){case r:(n.swipeLeft&&a||!a&&n.allowPageScroll!=w)&&e.preventDefault();break;case i:(n.swipeRight&&a||!a&&n.allowPageScroll!=w)&&e.preventDefault();break;case l:(n.swipeUp&&a||!a&&n.allowPageScroll!=v)&&e.preventDefault();break;case o:(n.swipeDown&&a||!a&&n.allowPageScroll!=v)&&e.preventDefault()}}}(t,ge=ie(S.last,S.end)),h=S.start,g=S.end,fe=Math.round(Math.sqrt(Math.pow(g.x-h.x,2)+Math.pow(g.y-h.y,2))),de=ne(),function(e,t){e!=s&&(t=Math.max(t,ee(e)),me[e].distance=t)}(he,fe),y=j(d,be),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var O=!0;if(n.triggerOnTouchLeave){var M={left:(f=(p=e(p=this)).offset()).left,right:f.left+p.outerWidth(),top:f.top,bottom:f.top+p.outerHeight()};O=function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}(S.end,M)}!n.triggerOnTouchEnd&&O?be=U(m):n.triggerOnTouchLeave&&!O&&(be=U(x)),be!=b&&be!=x||j(d,be)}}else j(d,be=b);!1===y&&j(d,be=b)}}function R(e){var t=e.originalEvent?e.originalEvent:e,r=t.touches;if(r){if(r.length&&!B())return function(e){De=le(),Le=e.touches.length+1}(t),!0;if(r.length&&B())return!0}return B()&&(Se=Le),Pe=le(),de=ne(),_()||!H()?j(t,be=b):n.triggerOnTouchEnd||!1===n.triggerOnTouchEnd&&be===m?(!1!==n.preventDefaultEvents&&!1!==e.cancelable&&e.preventDefault(),j(t,be=x)):!n.triggerOnTouchEnd&&W()?N(t,be=x,h):be===m&&j(t,be=b),J(!1),null}function k(){Se=0,Pe=0,Me=0,we=0,ve=0,Te=1,Z(),J(!1)}function A(e){var t=e.originalEvent?e.originalEvent:e;n.triggerOnTouchLeave&&j(t,be=U(x))}function I(){xe.off(ae,D),xe.off(pe,k),xe.off(ue,L),xe.off(se,R),ce&&xe.off(ce,A),J(!1)}function U(e){var t=e,r=q(),i=H(),l=_();return!r||l?t=b:!i||e!=m||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!i&&e==x&&n.triggerOnTouchLeave&&(t=b):t=x,t}function j(e,t){var r,i=e.touches;return(!(!F()||!X())||X())&&(r=N(e,t,p)),(!(!Q()||!C())||C())&&!1!==r&&(r=N(e,t,f)),G()&&z()&&!1!==r?r=N(e,t,g):de>n.longTapThreshold&&y>fe&&n.longTap&&!1!==r?r=N(e,t,d):!(1!==Se&&S||!(isNaN(fe)||fe<n.threshold)||!W())&&!1!==r&&(r=N(e,t,h)),t===b&&k(),t===x&&(i&&i.length||k()),r}function N(t,s,c){var w;if(c==p){if(xe.trigger("swipeStatus",[s,he||null,fe||0,de||0,Se,Oe,ge]),n.swipeStatus&&!1===(w=n.swipeStatus.call(xe,t,s,he||null,fe||0,de||0,Se,Oe,ge)))return!1;if(s==x&&F()){if(clearTimeout(ke),clearTimeout(Ae),xe.trigger("swipe",[he,fe,de,Se,Oe,ge]),n.swipe&&!1===(w=n.swipe.call(xe,t,he,fe,de,Se,Oe,ge)))return!1;switch(he){case r:xe.trigger("swipeLeft",[he,fe,de,Se,Oe,ge]),n.swipeLeft&&(w=n.swipeLeft.call(xe,t,he,fe,de,Se,Oe,ge));break;case i:xe.trigger("swipeRight",[he,fe,de,Se,Oe,ge]),n.swipeRight&&(w=n.swipeRight.call(xe,t,he,fe,de,Se,Oe,ge));break;case l:xe.trigger("swipeUp",[he,fe,de,Se,Oe,ge]),n.swipeUp&&(w=n.swipeUp.call(xe,t,he,fe,de,Se,Oe,ge));break;case o:xe.trigger("swipeDown",[he,fe,de,Se,Oe,ge]),n.swipeDown&&(w=n.swipeDown.call(xe,t,he,fe,de,Se,Oe,ge))}}}if(c==f){if(xe.trigger("pinchStatus",[s,Ee||null,ye||0,de||0,Se,Te,Oe]),n.pinchStatus&&!1===(w=n.pinchStatus.call(xe,t,s,Ee||null,ye||0,de||0,Se,Te,Oe)))return!1;if(s==x&&Q())switch(Ee){case a:xe.trigger("pinchIn",[Ee||null,ye||0,de||0,Se,Te,Oe]),n.pinchIn&&(w=n.pinchIn.call(xe,t,Ee||null,ye||0,de||0,Se,Te,Oe));break;case u:xe.trigger("pinchOut",[Ee||null,ye||0,de||0,Se,Te,Oe]),n.pinchOut&&(w=n.pinchOut.call(xe,t,Ee||null,ye||0,de||0,Se,Te,Oe))}}return c==h?s!==b&&s!==x||(clearTimeout(ke),clearTimeout(Ae),z()&&!G()?(Re=le(),ke=setTimeout(e.proxy((function(){Re=null,xe.trigger("tap",[t.target]),n.tap&&(w=n.tap.call(xe,t,t.target))}),this),n.doubleTapThreshold)):(Re=null,xe.trigger("tap",[t.target]),n.tap&&(w=n.tap.call(xe,t,t.target)))):c==g?s!==b&&s!==x||(clearTimeout(ke),clearTimeout(Ae),Re=null,xe.trigger("doubletap",[t.target]),n.doubleTap&&(w=n.doubleTap.call(xe,t,t.target))):c==d&&(s!==b&&s!==x||(clearTimeout(ke),Re=null,xe.trigger("longtap",[t.target]),n.longTap&&(w=n.longTap.call(xe,t,t.target)))),w}function H(){var e=!0;return null!==n.threshold&&(e=fe>=n.threshold),e}function _(){var e=!1;return null!==n.cancelThreshold&&null!==he&&(e=ee(he)-fe>=n.cancelThreshold),e}function q(){return!n.maxTimeThreshold||!(de>=n.maxTimeThreshold)}function Q(){var e=Y(),t=V(),r=null===n.pinchThreshold||ye>=n.pinchThreshold;return e&&t&&r}function C(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function F(){var e=q(),t=H(),n=Y(),r=V();return!_()&&r&&n&&t&&e}function X(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function Y(){return Se===n.fingers||n.fingers===T||!S}function V(){return 0!==Oe[0].end.x}function W(){return!!n.tap}function z(){return!!n.doubleTap}function G(){if(null==Re)return!1;var e=le();return z()&&e-Re<=n.doubleTapThreshold}function Z(){De=0,Le=0}function B(){var e=!1;De&&(le()-De<=n.fingerReleaseThreshold&&(e=!0));return e}function J(e){xe&&(!0===e?(xe.on(ue,L),xe.on(se,R),ce&&xe.on(ce,A)):(xe.off(ue,L,!1),xe.off(se,R,!1),ce&&xe.off(ce,A,!1)),xe.data(P+"_intouch",!0===e))}function K(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,Oe[e]=n,n}function $(e){var t=void 0!==e.identifier?e.identifier:0,n=function(e){return Oe[e]||null}(t);return null===n&&(n=K(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function ee(e){return me[e]?me[e].distance:void 0}function te(e){return{direction:e,distance:0}}function ne(){return Pe-Me}function re(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function ie(e,t){if(a=t,(n=e).x==a.x&&n.y==a.y)return s;var n,a,u=function(e,t){var n=e.x-t.x,r=t.y-e.y,i=Math.atan2(r,n),l=Math.round(180*i/Math.PI);return 0>l&&(l=360-Math.abs(l)),l}(e,t);return 45>=u&&u>=0||360>=u&&u>=315?r:u>=135&&225>=u?i:u>45&&135>u?o:l}function le(){return(new Date).getTime()}n=e.extend({},n);var oe=S||M||!n.fallbackToMouseEvents,ae=oe?M?O?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ue=oe?M?O?"MSPointerMove":"pointermove":"touchmove":"mousemove",se=oe?M?O?"MSPointerUp":"pointerup":"touchend":"mouseup",ce=oe?M?"mouseleave":null:"mouseleave",pe=M?O?"MSPointerCancel":"pointercancel":"touchcancel",fe=0,he=null,ge=null,de=0,we=0,ve=0,Te=1,ye=0,Ee=0,me=null,xe=e(t),be="start",Se=0,Oe={},Me=0,Pe=0,De=0,Le=0,Re=0,ke=null,Ae=null;try{xe.on(ae,D),xe.on(pe,k)}catch(t){e.error("events not supported "+ae+","+pe+" on jQuery.swipe")}this.enable=function(){return this.disable(),xe.on(ae,D),xe.on(pe,k),xe},this.disable=function(){return I(),xe},this.destroy=function(){I(),xe.data(P,null),xe=null},this.option=function(t,r){if("object"==typeof t)n=e.extend(n,t);else if(void 0!==n[t]){if(void 0===r)return n[t];n[t]=r}else{if(!t)return n;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var r="left",i="right",l="up",o="down",a="in",u="out",s="none",c="auto",p="swipe",f="pinch",h="tap",g="doubletap",d="longtap",w="horizontal",v="vertical",T="all",y=10,E="start",m="move",x="end",b="cancel",S="ontouchstart"in window,O=window.navigator.msPointerEnabled&&!window.PointerEvent&&!S,M=(window.PointerEvent||window.navigator.msPointerEnabled)&&!S,P="TouchSwipe";e.fn.swipe=function(n){var r=e(this),i=r.data(P);if(i&&"string"==typeof n){if(i[n])return i[n].apply(i,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(i&&"object"==typeof n)i.option.apply(i,arguments);else if(!(i||"object"!=typeof n&&n))return t.apply(this,arguments);return r},e.fn.swipe.version="1.6.18",e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0},e.fn.swipe.phases={PHASE_START:E,PHASE_MOVE:m,PHASE_END:x,PHASE_CANCEL:b},e.fn.swipe.directions={LEFT:r,RIGHT:i,UP:l,DOWN:o,IN:a,OUT:u},e.fn.swipe.pageScroll={NONE:s,HORIZONTAL:w,VERTICAL:v,AUTO:c},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:T}}));
